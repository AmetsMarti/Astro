---
import Header from '../components/Header.jsx';
import Footer from '../components/Footer.astro';
import Squares from '../components/Background.jsx';

interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Amets Martiarena" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
	</head>
	
	<body class="bg-slate-900 dark:bg-slate-900 light:bg-gray-100">
		<div class="fixed inset-0 w-full h-full bg-slate-900 dark:bg-slate-900 light:bg-gray-100">
			<Squares 
				direction="diagonal" 
				speed={0.5} 
				borderColor="oklch(0.446 0.043 257.281)" 
				squareSize={40} 
				hoverFillColor="rgba(0,0,0,0)"
				client:load
			/>
		</div>
		
		<!-- Content layer -->
		<div class="relative z-10 bg-gradient-to-b from-slate-900/40 to-slate-800/40 dark:from-slate-900/40 dark:to-slate-800/40 light:from-gray-100/40 light:to-gray-200/40 text-white dark:text-white light:text-gray-900 min-h-screen transition-colors duration-300">
			
			<Header />
			
			<slot />
			
			<Footer />
		</div>
	</body>
</html>

<style is:global>
	:root {
		--accent: 136, 58, 234;
		--accent-light: 224, 204, 250;
		--accent-dark: 48, 10, 101;
		--accent-gradient: linear-gradient(
			45deg,
			rgb(var(--accent)),
			rgb(var(--accent-light)) 30%,
			white 60%
		);
	}
	
	/* Dark theme variables */
	.dark {
		--bg-primary: 17, 24, 39; /* gray-900 */
		--bg-secondary: 31, 41, 55; /* gray-800 */
		--bg-card: 55, 65, 81; /* gray-700 */
		--text-primary: 248, 250, 252; /* slate-50 */
		--text-secondary: 203, 213, 225; /* slate-300 */
		--text-muted: 148, 163, 184; /* slate-400 */
		--border-color: 71, 85, 105; /* slate-600 */
	}
	
	/* Light theme variables */
	.light {
		--bg-primary: 249, 250, 251; /* gray-50 */
		--bg-secondary: 243, 244, 246; /* gray-100 */
		--bg-card: 255, 255, 255; /* white */
		--text-primary: 17, 24, 39; /* gray-900 */
		--text-secondary: 55, 65, 81; /* gray-700 */
		--text-muted: 107, 114, 128; /* gray-500 */
		--border-color: 209, 213, 219; /* gray-300 */
	}
	
	html {
		font-family: system-ui, sans-serif;
		background-size: 224px;
		transition: color-scheme 0.3s ease;
	}
	
	.dark {
		color-scheme: dark;
	}
	
	.light {
		color-scheme: light;
	}
	
	code {
		font-family:
			Menlo,
			Monaco,
			Lucida Console,
			Liberation Mono,
			DejaVu Sans Mono,
			Bitstream Vera Sans Mono,
			Courier New,
			monospace;
	}
	
	/* Ensure Squares canvas fills the background properly */
	canvas {
		width: 100% !important;
		height: 100% !important;
		background-color: transparent;
	}
	
	/* Background container styling */
	.fixed.inset-0 canvas {
		position: absolute;
		top: 0;
		left: 0;
		width: 100vw;
		height: 100vh;
	}
</style>

